<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="google-site-verification" content="E0vDQCYLRDz-hSNBg2blH7KJpNUSxElnYzNlfGC_xjo"> <meta name="msvalidate.01" content="AB84189524C3D3ACAE3EA77DC5F97F11"> <meta http-equiv="Permissions-Policy" content="interest-cohort=()"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>HandsOn 2 | Rossano Venturini</title> <meta name="author" content="Rossano Venturini"> <meta name="description" content="Second hands-on of a.y. 23/24 for the course Competitive Programming and Contests at University of Pisa"> <meta name="keywords" content="algorithm, data-structures, rust, efficiency"> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/rossano/assets/img/favicon.png"> <link rel="stylesheet" href="/rossano/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://pages.di.unipi.it/rossano/blog/2023/handson22324/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"> <script src="/rossano/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/rossano/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/rossano/">Rossano Venturini</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/rossano/">About</a> </li> <li class="nav-item active"> <a class="nav-link" href="/rossano/blog/">Notes<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/rossano/publications/">Publications</a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Teaching</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/rossano/competitive/">Competitive Programming and Contests</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/rossano/courses/">Teaching activity</a> </div> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">HandsOn 2</h1> <p class="post-meta">November 11, 2023</p> <p class="post-tags"> <a href="/rossano/blog/2023"> <i class="fas fa-calendar fa-sm"></i> 2023 </a>   ·   <a href="/rossano/blog/tag/rust"> <i class="fas fa-hashtag fa-sm"></i> rust,</a>   <a href="/rossano/blog/tag/algorithms"> <i class="fas fa-hashtag fa-sm"></i> algorithms,</a>   <a href="/rossano/blog/tag/data-structures"> <i class="fas fa-hashtag fa-sm"></i> data-structures</a>     ·   <a href="/rossano/blog/category/notes"> <i class="fas fa-tag fa-sm"></i> notes</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <p>This is the text of second hands-on of the the course <a href="competitive/"><em>Competitive Programming and Contests</em></a> at University of Pisa in the accademic year 2023-24.</p> <p>The objective of this hands-on is to implement and play with Segment Trees in Rust. There are two problems to solve.</p> <p><br></p> <h4 id="problem-1-min-and-max">Problem #1: Min and Max</h4> <p>You are given an array \(A[1,n]\) of \(n\) positive integers, each integer is at most \(n\). You have to build a data structure to answer two different types of queries:</p> <ul> <li> <code class="language-plaintext highlighter-rouge">Update(i, j, T)</code> that replaces every value \(A[k]\) with \(\min(A[k], T)\), where \(i\leq k \leq j\);</li> <li> <code class="language-plaintext highlighter-rouge">Max(i, j)</code> that returns the largest value in \(A[i\ldots j]\).</li> </ul> <p>You are also given \(m\) of these queries to solve. The target solution must run in \(O((n+m) \log n)\) time.</p> <p><a href="/rossano/assets/zip/Testset_handson2_2324_p1.zip">Here</a> we have a set of tests with the following format.</p> <h5 id="input">Input</h5> <p>The first line contains \(n\) and \(m\). The next line contains the \(n\) integers in \(A\). Each of the subsequent \(m\) lines contains the query. The first value of each line is either \(0\) (query <code class="language-plaintext highlighter-rouge">Update</code>) or \(1\) (query <code class="language-plaintext highlighter-rouge">Max</code>). For a query <code class="language-plaintext highlighter-rouge">Update</code> the values of \(i\), \(j\), and \(T\) follows. For a query <code class="language-plaintext highlighter-rouge">Max</code> the values of \(i\) and \(j\) follows.</p> <h5 id="output">Output</h5> <p>Results of <code class="language-plaintext highlighter-rouge">Max</code> queries.</p> <h5 id="example">Example</h5> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>5 3       // n m
5 1 4 3 2 // The array A
0 1 2 2   // Update(1, 2, 2). The array A becomes 2 1 4 3 2.
1 2 4     // Max(2, 4) = 4
1 1 2     // Max(1, 2) = 2
</code></pre></div></div> <p>The output is</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>4
2
</code></pre></div></div> <p><br></p> <h4 id="problem-2-is-there">Problem #2: Is There</h4> <p>You are given \(n\) segments. A segment \(\langle l, r\rangle\) is such that \(0 \leq l \leq r \leq n-1\). Then, you are given \(m\) queries <code class="language-plaintext highlighter-rouge">IsThere</code>.</p> <p>A query <code class="language-plaintext highlighter-rouge">IsThere(i,j,k)</code> has to return \(1\) if there exists a position \(p\), with \(0 \leq i \leq p \leq j \leq n-1\), such that <em>exactly</em> \(k\) segments contain position \(p\), \(0\) otherwise.</p> <p>The solution must run in \(O((n+m)\log n)\) time.</p> <p><a href="/rossano/assets/zip/Testset_handson2_2324_p2.zip">Here</a> we have a set of tests with the following format.</p> <h5 id="input-1">Input</h5> <p>The first line contains \(n\) and \(m\). Each of the next \(n\) lines contains a pair integers \(\langle l, r\rangle\), one for each segment. Finally, there will be \(m\) lines, one for each query. Each of these lines contains \(i\), \(j\) and \(k\), separated by a space.</p> <h5 id="output-1">Output</h5> <p>The result of each query in input order.</p> <h5 id="example-1">Example</h5> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>5 4    // n m
0 4    // segments
1 3
1 2
1 1
0 0
0 4 4   // i j k
0 4 0
1 3 1
1 4 1
</code></pre></div></div> <p>The output is</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1
0
0
1
</code></pre></div></div> <p><br></p> <h4 id="submission">Submission</h4> <p>Submit the files <code class="language-plaintext highlighter-rouge">main.rs</code> and <code class="language-plaintext highlighter-rouge">lib.rs</code> and a file <code class="language-plaintext highlighter-rouge">Handson_2_solution_YOUR_NAME.pdf</code> to <a href="mailto:rossano.venturini@gmail.com">rossano.venturini@gmail.com</a> by 27/11/2023.</p> <ul> <li>Source code <code class="language-plaintext highlighter-rouge">main.rs</code> and <code class="language-plaintext highlighter-rouge">lib.rs</code> contain your implementations.</li> <li>A report <code class="language-plaintext highlighter-rouge">Handson_2_solution_YOUR_NAME.pdf</code> that briefly describes your solutions, your implementations, and an analysis of their time and space complexities. Add references to any relevant source you consulted to find your solutions or to develop their implementations.</li> </ul> <p>Before submitting your solutions,</p> <ul> <li>make sure your implementation successfully passes all the tests.</li> <li>use <code class="language-plaintext highlighter-rouge">cargo fmt</code> to format your code.</li> <li>use <code class="language-plaintext highlighter-rouge">cargo clippy</code> to check your code.</li> <li>use <a href="https://grammarly.com/" rel="external nofollow noopener" target="_blank">Grammarly</a> to improve your English and avoid <a href="https://en.wiktionary.org/wiki/tpyo#English" rel="external nofollow noopener" target="_blank">tpyos</a> :-). There is an <a href="https://marketplace.visualstudio.com/items?itemName=znck.grammarly" rel="external nofollow noopener" target="_blank">extension for vscode</a>.</li> </ul> <p><br></p> <h4 id="cheating">Cheating</h4> <p><strong>Very important!</strong> You are allowed to verbally discuss solutions with other students, <strong>BUT</strong> you must implement all solutions by yourself. Therefore, sharing implementations with others is strictly <strong>forbidden</strong>.</p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/rossano/blog/2023/handson32324/">HandsOn 3</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/rossano/blog/2023/mosalgorithm/">Mo's Algorithm</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/rossano/blog/2023/fenwick/">Dynamic Prefix Sums with Fenwick Tree</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/rossano/blog/2023/prefixsums/">The Power of Prefix Sums</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/rossano/blog/2023/sweepline/">Sweep Line Algorithm</a> </li> <div id="giscus_thread" style="max-width: 800px; margin: 0 auto;"> <script>let giscusTheme=localStorage.getItem("theme"),giscusAttributes={src:"https://giscus.app/client.js","data-repo":"rossanoventurini/webpage","data-repo-id":"R_kgDOKRTPSw","data-category":"General","data-category-id":"DIC_kwDOKRTPS84CZ7tz","data-mapping":"title","data-strict":"1","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":giscusTheme,"data-lang":"en",crossorigin:"anonymous",async:""},giscusScript=document.createElement("script");Object.entries(giscusAttributes).forEach(([t,e])=>giscusScript.setAttribute(t,e)),document.getElementById("giscus_thread").appendChild(giscusScript);</script> <noscript>Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by giscus.</a> </noscript> </div> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2024 Rossano Venturini. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/rossano/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/rossano/assets/js/zoom.js"></script> <script defer src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script> <script src="/rossano/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/rossano/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/rossano/assets/js/copy_code.js?c9d9dd48933de3831b3ee5ec9c209cac" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-LRWXE6TB2L"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-LRWXE6TB2L");</script> <script async src="https://rum.cronitor.io/script.js"></script> <script>window.cronitor=window.cronitor||function(){(window.cronitor.q=window.cronitor.q||[]).push(arguments)},cronitor("config",{clientKey:"e35e6134ceef91b419bad00adc81df84"});</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>